{% extends "base.html" %}
{% load static i18n %}

{% block page_title %}{% trans "Inventar In / Out" %}{% endblock %}

{% block content %}

<div class="panel panel-default">
  <div class="panel-heading"><strong>{% trans "Inventar In / Out" %}</strong></div>
  <div class="panel-body">

    <form id="scan-form" class="form-inline" onsubmit="return false;">
      <div class="form-group" style="min-width:320px;max-width:520px;width:100%;">
        <input type="text" id="scan-input" class="form-control" placeholder="{% trans 'IPN einscannen…' %}" autocomplete="off" autofocus>
      </div>
      <button id="scan-btn" class="btn btn-primary" type="button">{% trans "Hinzufügen" %}</button>
    </form>

    <hr>

    <div class="table-responsive">
      <table id="io-table" class="table table-striped table-condensed">
        <thead>
          <tr>
            <th>{% trans "IPN" %}</th>
            <th>{% trans "Produkt" %}</th>
            <th>{% trans "Lagerpfad" %}</th>
            <th class="text-right">{% trans "Bestand" %}</th>
            <th style="width:120px;">{% trans "IN" %}</th>
            <th style="width:120px;">{% trans "OUT" %}</th>
            <th></th>
          </tr>
        </thead>
        <tbody></tbody>
      </table>
    </div>

    <div class="form-group">
      <label for="booking-notes">{% trans "Buchungstext" %}</label>
      <input id="booking-notes" type="text" class="form-control" placeholder="{% trans 'z.B. Wareneingang 123 oder Entnahme für Auftrag XY' %}">
    </div>

    <div class="text-right">
      <button id="book-btn" class="btn btn-success">
        <i class="fa fa-check"></i> {% trans "Buchen" %}
      </button>
      <button id="clear-btn" class="btn btn-default">{% trans "Zurücksetzen" %}</button>
    </div>

  </div>
</div>

<script>
  window.INOUT = {
    csrf: '{{ csrf_token }}',
    endpoints: {
      lookup: '{% url "plugin:inventory-in-out:index" %}',
      add: '{% url "api-stock-add" %}',
      remove: '{% url "api-stock-remove" %}',
      list: '{% url "api-stock-list" %}',
    }
  }
</script>
<link rel="stylesheet" href="{% static 'plugins/inventory-in-out/inventree_inventoryinout/inout.css' %}">
<script src="{% static 'plugins/inventory-in-out/inventree_inventoryinout/inout.js' %}"></script>

{% endblock %}
